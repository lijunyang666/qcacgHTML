<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>轻创文学网-阅读页</title>
		<link rel="stylesheet" href="../css/headerOrFooter.css" />
		<link rel="stylesheet" href="../css/main.css" />
		<link rel="stylesheet" href="../css/jquery-ui.min.css" />
		<link rel="stylesheet" href="../css/read_book.css" />
<style>

</style>
<script type="text/javascript" src="../js/vue.js" ></script>
	</head>
	<body  id="app"
		v-bind:style="fixed === true? 'font-family: FontAwesome;overflow:hidden':'font-family: FontAwesome;'">
		
	<div class="content">
		<div id="reader" class="reader" style="min-height: 930px;">
			<div class="inner-reader active"
				:style=" 'min-height: 930px; background-color:' + bj_color + ';color:' + font_color + ';' +
				'font-family: '+ font_family + ';'
				">
	<div id="book-tool" class="book-tool">
		<div class="tool-top">
			<a v-on:click="screenFn"  id="btn-screen-tool" title="全屏" class="fullscreen"><i class="fa fa-expand"></i></a>
		</div>
		<div class="tool-bottom">
			<a v-on:click="gotoCatalogFn" id="btn-menu-tool" title="目录" class="menu" href="javascript:;"><i class="fa fa-list"></i></a>
			<a v-on:click="settingShow" id="btn-setting" title="设置" class="setting"><i class="fa fa-cog"></i></a>
			<a v-on:click="lampFn" id="btn-light" title="夜间模式" class="light" ><i class="fa fa-lightbulb-o"></i></a>
		</div>
		<div class="tool-bottom">
			<a id="btn-prev-tool" title="上一章" class="prev js-link-state"><i class="fa fa-angle-left"></i></a>
			<a id="btn-next-tool" title="下一章" class="next js-link-state" href=""><i class="fa fa-angle-right"></i></a>
		</div>
	</div>
				<div class="book-info" >
					<p class="book-nav">
						<a>轻文轻小说</a>
						<i class="fa fa-angle-right"></i>
						<a>就算变成女生也要爱你A</a>
						<i class="fa fa-angle-right"></i>
						<span>人物卡</span>
					</p>
					<h1 class="title">新月/艾尔薇（插图）</h1>
					<p class="info-top">
						<span class="author">
						<span class="t">作者：</span>
						<span class="d">满月酱</span>
						</span>
						<span class="count">
							<span class="t">字数：</span>
							<span class="d">315</span>
						</span>
						<span class="update">
							<span class="t">更新日期：</span>
							<span class="d">20天前</span>
						</span>
					</p>
				</div>
				<div id="book-content" class="book-content" :style="'font-size:' + font_size + 'px;' ">
					<p>性别：男（根据剧情发展变为女性）</p>
					<p>种族：人（平行时空为半精灵）</p>
					<p>年龄：15（精灵身体起始年龄1岁）</p>
					<p>发色：深红／精灵时为栗色</p>
					<p>名字：新月/艾尔薇·达路克</p>
					<p>瞳色：??／精灵时为纯白色</p>
					<p>身高：170cm／精灵时为160</p>
					<p>外貌特征：身体曲线几乎和女性没有差别。</p>
					<p>喜欢的食物：各种点心甜品，牛奶混苦咖啡。</p>
					<p>人际关系好的人：蛋糕店的老板米尔沙，失踪的妈妈。</p>
					<p>家族中的妹妹学习和能力各方面都很优秀，表面上对新月不在乎，其实一直暗恋新月。</p>
					<p>喜欢的人：玛茵·达路克。</p>
					<p>兴趣和目标:证明自己是有用的人，各种形式的抽奖。</p>
					<p>武器:弯刀</p>
					<p>身份:学生/玛茵的契约精灵</p>
					<p>战斗描述:敏捷的身手和动态视力，1秒等于10秒的行动速度，关键时刻能爆发出惊人的破坏力，斩断比武器自身还要坚硬的对象。</p>
					<p class="img"><img src="../img/b0994b01-9333-4b3f-888d-a5d98e6c6961.jpg" alt="轻小说：就算变成女生也要爱你A插图"></p>
				</div>
				<div class="book-bottom">
					<p class="next-page"><a href="" class="js-link-state">点击进入下一章<i class="fa fa-angle-right"></i></a></p>
					<p class="hint-page">按键盘上的 ←（左）键和 →（右）键可以快速切换章节</p>
				</div>
			</div>
			<div class="inner-reader nene" style="min-height: 930px;">
				<div class="loading-read"><div class="bg"></div></div>
			</div>
		</div>
	</div>
	
	
	<div 
		v-if="fixed" 
		v-on:click="fixedFn"
		style="position: fixed;top: 0px;bottom: 0px;left: 0px;right: 0px;z-index: 1050; " class=" modal modal-setting fade in">
		<div class="modal-dialog">
			<div class="modal-content" v-on:click="settingFn">
				<div class="modal-header">
					<button data-dismiss="modal" class="close" v-on:click="fixedFn"><i class="fa fa-close"></i></button>
					<h4 class="modal-title"><i class="fa fa-cog"></i>设置</h4>
				</div>
				<div class="modal-body">
					<p id="theme-setting">
						<label>阅读主题：</label>
						<a v-on:click="bj_ColorFn('#FFFFFF')" data-index="0" title="白色" 
							:class="bj_color == '#FFFFFF' ? 'btn-thm btn-thm-a active':'btn-thm btn-thm-a'"
						><i class="fa fa-check"></i></a>
						<a v-on:click="bj_ColorFn('#F6F4EC')" data-index="1" title="黄色" 
							:class="bj_color == '#F6F4EC'?'btn-thm btn-thm-b active':'btn-thm btn-thm-b'"
							><i class="fa fa-check"></i></a>
						<a v-on:click="bj_ColorFn('#E6F0E6')" data-index="2" title="绿色" 
							:class="bj_color == '#E6F0E6'?'btn-thm btn-thm-c active':'btn-thm btn-thm-c'"
							><i class="fa fa-check"></i></a>
						<a v-on:click="bj_ColorFn('#E3F5FA')" data-index="3" title="蓝色" 
							:class="bj_color == '#E3F5FA'?'btn-thm btn-thm-d active':'btn-thm btn-thm-d'"
							><i class="fa fa-check"></i></a>
						<a v-on:click="bj_ColorFn('#F5F5F5')" data-index="4" title="灰色" 
							:class="bj_color == '#F5F5F5'?'btn-thm btn-thm-e active':'btn-thm btn-thm-e'"
							><i class="fa fa-check"></i></a>
						<a v-on:click="bj_ColorFn('#F5E9EF')" data-index="5" title="粉色" 
							:class="bj_color == '#F5E9EF'?'btn-thm btn-thm-f active':'btn-thm btn-thm-f'"
							><i class="fa fa-check"></i></a>
						<a v-on:click="bj_ColorFn('#323536')" data-index="6" title="夜间" 
							:class="bj_color == '#323536'? 'btn-thm btn-thm-g active':'btn-thm btn-thm-g'"
							><i class="fa fa-check"></i></a>
					</p>
					<p id="font-setting">
						<label>正文字体：</label>
						<a 	v-on:click="font_FamilyFn('Arial,Microsoft YaHei,sans-serif')"
							data-index="0" 
							:class="font_family === 'Arial,Microsoft YaHei,sans-serif'?'btn-font active':'btn-font'"
							>雅黑</a>
						<a 	v-on:click="font_FamilyFn('NSimSun,STSong,SimSun,serif')"
							data-index="1" 
							:class="font_family === 'NSimSun,STSong,SimSun,serif'?'btn-font active':'btn-font'"
							>宋体</a>
						<a 	v-on:click="font_FamilyFn('STKaiti,KaiTi,KaiTi_GB2312,sans-serif')"
							data-index="2" 
							:class="font_family === 'STKaiti,KaiTi,KaiTi_GB2312,sans-serif'?'btn-font active':'btn-font'"
							>楷书</a>
					</p>
					<p id="fsize-setting">
						<label>字体大小：</label>
						<a v-on:click="smallFn" data-action="minus" class="btn-fsize btn-fsize-a"><i class="fa fa-minus"></i></a>
						<span class="num-fsize">{{ font_size }}</span>
						<a v-on:click="largeFn" data-action="plus" class="btn-fsize btn-fsize-b"><i class="fa fa-plus"></i></a>
					</p>
				</div>
				<div class="modal-footer">
					<a @click="saveFixedFn" id="btn-save-setting" class="btn btn-primary">保存</a>
					<a @click="fixedFn" id="btn-cancel-setting" data-dismiss="modal" class="btn btn-default">取消</a>
				</div>
			</div>
		</div>
	</div>
	<div class="fa-expand"></div>

	</body>
	<script src="../js/apis/vueHttp.js"></script>
  	<script src="../js/apis/conf.js"></script>
	
	<script>
		var vueDemo = new Vue({
  			el: '#app',
  			data: {
  				fixed:false,
  				font_size: 16,
				font_family: 'Arial,Microsoft YaHei,sans-serif',
  				bj_color: '#F6F4EC',
  				font_color: '#333',
  				temp_format:[16,'Arial,Microsoft YaHei,sans-serif','#F6F4EC','#333'], // 上一次的状态
  				temp_format_two:['#F6F4EC','#333'], // 记录开关灯的上一次的状态
  				lamp: true,
  				screenV: true
  			},
  			methods: {
  				settingShow: function() {
  					this.fixed = true;
  				},
  				fixedFn: function() {
  					this.fixed = false;
	  				this.font_size = this.temp_format[0];
	  				this.font_family = this.temp_format[1];
	  				this.$set('bj_color', this.temp_format[2]);
	  				this.font_color = this.temp_format[3];
  				},
  				saveFixedFn : function() {
  					this.fixed = false;
	  				this.temp_format[0] = this.font_size;
	  				this.temp_format[1] = this.font_family;
	  				this.temp_format[2] = this.bj_color;
	  				this.temp_format[3] = this.font_color;
	  				this.lamp = true;
  				},
  				settingFn: function(e) {
  					e.stopPropagation();
  				},
  				gotoCatalogFn : function(){
  					window.location.href = '../catalog.html';
  				},
  				bj_ColorFn: function(color) {
  					this.bj_color = color;
  					if (color === '#323536') {
  						this.font_color = '#777';
  					}
  				},
  				font_FamilyFn: function(family) {
  					this.font_family = family;
  				},
  				lampFn: function(bj_color){
  					if (this.lamp){
  						this.temp_format_two[0] = this.temp_format[2];
  						this.temp_format_two[1] = this.temp_format[3];
  						this.bj_color = '#323536';
  						this.font_color = '#777';
  						this.temp_format[2] = this.bj_color;
  						this.temp_format[3] = this.font_color;
  						this.lamp = false;
  					} else {
  						this.temp_format[2] = this.temp_format_two[0];
  						this.temp_format[3] = this.temp_format_two[1];
  						this.$set('bj_color', this.temp_format[2]);
  						this.font_color = this.temp_format[3];
  						this.lamp = true;
  					}
  				},
  				smallFn :function(){
  					this.font_size = this.font_size - 2;
  					if (this.font_size < 12) {
  						this.font_size = 12;
  					}
  				},
  				largeFn: function() {
  					this.font_size = this.font_size + 2;
  					if (this.font_size > 48) {
  						this.font_size = 48;
  					}
  				},
  				screenFn: function() {
					    if(this.screenV) {
					    	this.screenV = false;
					    	var el = document.documentElement,
					        rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullScreen,
					        wscript;
						    if(typeof rfs != "undefined" && rfs) {
						        rfs.call(el);
						        return;
						    }
						    if(typeof window.ActiveXObject != "undefined") {
						        wscript = new ActiveXObject("WScript.Shell");
						        if(wscript) {
						            wscript.SendKeys("{F11}");
						        }
						    }
					    } else {
					    	this.screenV = true;
					    	var el = document,
					        cfs = el.cancelFullScreen || el.webkitCancelFullScreen || el.mozCancelFullScreen || el.exitFullScreen,
					        wscript;
						    if (typeof cfs != "undefined" && cfs) {
						      cfs.call(el);
						      return;
						    }
						    if (typeof window.ActiveXObject != "undefined") {
						        wscript = new ActiveXObject("WScript.Shell");
						        if (wscript != null) {
						            wscript.SendKeys("{F11}");
						        }
						  	}
					    }
  				}
  				
  			}
  			
		});
		
		vuePractice = new Vue({
			el: '#app',
			data: {
				popup:false,
				id: '',
				
			},
			methods: {
				getValueFn: function() {
					var href = window.location.href;
            		this.id = href.substring(href.lastIndexOf('?contentId=') + 8, href.length);
            		var _data = {};
            		_data.contentId = this.id;
			        SZXJ.http('get', PathList.findContent, _data, (response) => {
			        	// 取到数据渲染
			        	alert("sjfsdkfjsdkf");
			           console.log(response);
			        });			            
			       
				},
				rewardFn: function(){
					this.popup = true;
				},
				rewardShow: function(){
					this.popup = false;
				}
			},
			ready: function() {
				this.getValueFn();
			},
		});
		
	</script>
</html>
